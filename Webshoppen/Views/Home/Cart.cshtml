@model List<List<ProductVM>>
@{
    ViewBag.Title = "Cart";
    double freight = 29.00d;
}
<div class="row">
    <div class="col-8">
        <table id="shoppingCartTable">
            <tr>
                <th>
                    Product Name
                </th>
                <th>
                    Product Image
                </th>
                <th>
                    Amount
                </th>
                <th>
                    Actions
                </th>
            </tr>
            @foreach (List<ProductVM> listItem in Model)
            {
                <tr>
                    <td>
                        @listItem[0].Product.Name;
                    </td>
                    <td>
                        <img class="img-responsive" src="~/Content/Images/@listItem[0].Images[0].ImageURL" />
                    </td>
                    <td>
                        @listItem.Count();
                    </td>
                    <td>
                        <a href="/Home/RemoveFromCart/@listItem[0].Product.ID">Remove</a>
                    </td>
                </tr>
            }
        </table>
    </div>
    <div class="col-4">
        <table>
            <tr>
                <td>
                    Sub Price
                </td>
                <td>
                    @ViewBag.ShoppingCartTotal DKK
                </td>
            </tr>
            <tr>
                <td>
                    Frieght
                </td>
                <td>
                    @freight DKK
                </td>
            </tr>
            <tr>
                <td>
                    Total
                </td>
                <td>
                    @(ViewBag.ShoppingCartTotal + freight) DKK
                </td>
            </tr>
            <tr>
                <td>
                    (VAT)
                </td>
                <td>
                    @(((double)ViewBag.ShoppingCartTotal) * 0.25d) DKK
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    @if (Model.Count > 0)
                    {
                        <a href="/Home/Checkout">Checkout</a>
                    }
                    else
                    {
                        <span style="color:lightgray;">Checkout</span>
                    }
                </td>
            </tr>
        </table>
    </div>
</div>

